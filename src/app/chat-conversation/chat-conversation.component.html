<section class="chat-conversation-section" *ngIf="data">
    <header class="chat-conversation-header">
        <div class="chat-header-item">
            <div class="user-icon">
                <i class="fas fa-user-friends"></i>
            </div>
            <h1 class="user-name">{{data.name}}</h1>
        </div>
        <div class="chat-header-item">
            <i class="fa-solid fa-trash" (click)="delete()"></i>
        </div>
    </header>
    <div class="message-container">
        <div class="check" *ngIf="data.messages">
            <div class="messages"  *ngFor="let m of data.messages">
                <div class="self-message" *ngIf="m.self">
                    <span class="message-text">
                        {{m.message}}
                    </span>
                    <span class="message-time" *ngIf="compare(m.createdAt)">
                        {{m.createdAt  |date :'h:mm a'|lowercase}}
                    </span>
                    <span class="message-time" *ngIf="!compare(m.createdAt)">
                        {{m.createdAt | date : 'dd/MM/yyyy, h:mm a'|lowercase}}
                    </span>
                </div>
                <div class="anonymous-message" *ngIf="!m.self">
                    <span class="message-text">
                        {{m.message}}
                    </span>

                    <span class="message-time" *ngIf="compare(m.createdAt)">
                        {{m.createdAt  | date:'h:mm a'|lowercase}}
                    </span>
                    <span class="message-time" *ngIf="!compare(m.createdAt)">
                        {{m.createdAt | date : 'dd/MM/yyyy, h:mm a'|lowercase}}
                    </span>
                </div>
            </div>
        </div>
    </div>    
    
    <div class="send-message">
        <i class="fa-solid fa-user-tie mode" *ngIf="self" (click)="toogle()"></i>
        <i class="fa-solid fa-user-secret mode" *ngIf="!self" (click)="toogle()"></i>
        <input type="text" name="" id=""  [(ngModel)]="message"  placeholder="Type a message" (keydown.enter)="onClick()">
    </div>

</section>
