@if (data) {
  <section class="chat-conversation-section">
    <header class="chat-conversation-header">
      <div class="chat-header-item">
        <div class="user-icon">
          <i class="fas fa-user-friends"></i>
        </div>
        <h1 class="user-name">{{data.name}}</h1>
      </div>
      <div class="chat-header-item">
        <i class="fa-solid fa-trash" (click)="delete()"></i>
      </div>
    </header>
    <div class="message-container">
      @if (data.messages) {
        <div class="check">
          @for (m of data.messages; track m) {
            <div class="messages" >
              @if (m.self) {
                <div class="self-message">
                  <span class="message-text">
                    {{m.message}}
                  </span>
                  @if (compare(m.createdAt)) {
                    <span class="message-time">
                      {{m.createdAt  |date :'h:mm a'|lowercase}}
                    </span>
                  }
                  @if (!compare(m.createdAt)) {
                    <span class="message-time">
                      {{m.createdAt | date : 'dd/MM/yyyy, h:mm a'|lowercase}}
                    </span>
                  }
                </div>
              }
              @if (!m.self) {
                <div class="anonymous-message">
                  <span class="message-text">
                    {{m.message}}
                  </span>
                  @if (compare(m.createdAt)) {
                    <span class="message-time">
                      {{m.createdAt  | date:'h:mm a'|lowercase}}
                    </span>
                  }
                  @if (!compare(m.createdAt)) {
                    <span class="message-time">
                      {{m.createdAt | date : 'dd/MM/yyyy, h:mm a'|lowercase}}
                    </span>
                  }
                </div>
              }
            </div>
          }
        </div>
      }
    </div>
    <div class="send-message">
      @if (self) {
        <i class="fa-solid fa-user-tie mode" (click)="toogle()"></i>
      }
      @if (!self) {
        <i class="fa-solid fa-user-secret mode" (click)="toogle()"></i>
      }
      <input type="text" name="" id=""  [(ngModel)]="message"  placeholder="Type a message" (keydown.enter)="onClick()">
    </div>
  </section>
}
