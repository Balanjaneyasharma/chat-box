import{a as G}from"./chunk-5QMZOGT5.js";import{b as j,c as z,d as F,g as A,k as B,m as V,n as R}from"./chunk-7NLVHFUL.js";import{H as v,Qa as g,Ra as f,S as b,Sa as k,Ta as D,Ua as S,Va as x,Wa as o,Xa as i,Y as M,Ya as s,Z as O,Za as E,ab as P,bb as m,fb as T,hb as d,ib as p,nb as L,pb as h,qb as C,ra as c,rb as w,xb as I,za as u}from"./chunk-TB5WTPP5.js";function W(t,e){if(t&1&&(o(0,"h4"),d(1),h(2,"date"),h(3,"lowercase"),i()),t&2){let l=m();c(),p(C(3,4,w(2,1,l.data().lastModified,"h:mm a")))}}function J(t,e){if(t&1&&(o(0,"h4"),d(1),h(2,"date"),i()),t&2){let l=m();c(),p(w(2,1,l.data().lastModified,"dd/MM/yyyy"))}}var N=(()=>{let e=class e{constructor(){this.data=I.required(),this.today=new Date}ngOnInit(){let n=new Date(this.data().lastModified);this.sameDate=this.today.toDateString()===n.toDateString()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=u({type:e,selectors:[["app-chat-list-item"]],inputs:{data:[1,"data"]},decls:13,vars:6,consts:[["routerLinkActive","focus",1,"chat-list-item",3,"routerLink"],[1,"chat-item-left"],[1,"user-icon"],[1,"fas","fa-user-friends"],[1,"chat-item-right"],[1,"user-chat"],[1,"group-name"],[1,"group-recent-activity"],[1,"user-time"]],template:function(a,r){a&1&&(o(0,"a",0)(1,"div",1)(2,"div",2),s(3,"i",3),i()(),o(4,"div",4)(5,"div",5)(6,"h2",6),d(7),i(),o(8,"h3",7),d(9),i()(),o(10,"div",8),g(11,W,4,6,"h4"),g(12,J,3,4,"h4"),i()()()),a&2&&(x("routerLink",L(r.data().id)),c(7),p(r.data().name),c(2),p(r.data().recentActivity),c(2),f(r.sameDate?11:-1),c(),f(r.sameDate?-1:12))},dependencies:[R,V,j,F],styles:[".chat-list-item[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-right:10px;cursor:pointer;text-decoration:none;margin-right:5px;align-content:center;align-items:center}.user-icon[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%;background-color:#cfd5d7;display:flex;justify-content:center;align-items:center}.chat-list-item[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.chat-item-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-left:15px;margin-bottom:6px}.user-icon[_ngcontent-%COMP%]   .fa-user-friends[_ngcontent-%COMP%]{color:#f5f5f5}.chat-item-right[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;border-bottom:1px solid #E9EDEF}.user-chat[_ngcontent-%COMP%]{margin-left:10px;padding-top:10px}.user-chat[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%], .user-chat[_ngcontent-%COMP%]   .group-recent-activity[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:400}.user-chat[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#63727b;font-weight:600;margin-top:0;margin-bottom:5px;font-size:14px}.user-chat[_ngcontent-%COMP%]   .group-recent-activity[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;color:#6b7c85;font-size:12px;margin-bottom:15px;max-width:19vw;text-overflow:ellipsis}.user-time[_ngcontent-%COMP%]{margin-top:12px;color:#6b7c85;max-width:20vw;word-break:break-word}.user-time[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:10px;font-weight:600}.focus[_ngcontent-%COMP%]{background-color:#ebebeb}"]});let t=e;return t})();var _=class{constructor(e){this.name=e,this.messages=[],this.createdAt=new Date,this.lastModified=this.createdAt,this.recentActivity="This group was created on "+new Date().toDateString()}};function K(t,e){if(t&1&&s(0,"app-chat-list-item",18),t&2){let l=m().$implicit;x("data",l)}}function Q(t,e){if(t&1&&(o(0,"li"),g(1,K,1,1,"app-chat-list-item",18),i()),t&2){let l=e.$implicit,n=m();c(),f(n.searchText===""||l.name.toLowerCase().includes(n.searchText)?1:-1)}}var pt=(()=>{let e=class e{constructor(){this.http=b(A),this.ds=b(G),this.title="balu sharma",this.searchText=""}ngOnInit(){this.getData()}getData(){this.ds.getData().subscribe(n=>{this.ds.updateDateStorage(n)}),this.ds.getDataStorageObservable().subscribe(n=>{this.storage=n,this.sortData()})}sortData(){this.storage=this.storage.sort((n,a)=>new Date(a.lastModified).getTime()-new Date(n.lastModified).getTime())}addChat(){let n=prompt("Enter Group name");if(n.trim().length!=0)if(n.length>25)alert("Name length must be less <= 25");else{let a=new _(n);this.ds.postData(a).pipe(v(()=>this.ds.getData())).subscribe(r=>{this.ds.updateDateStorage(r)})}else alert("Invalid Group Name")}searchData(n){this.searchText=n.toLowerCase()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=u({type:e,selectors:[["app-chat-list"]],decls:24,vars:3,consts:[["search",""],[1,"grid-container"],[1,"chat-list-section"],[1,"chat-header"],[1,"chat-header-item"],[1,"user-icon"],[1,"fa-solid","fa-user","fa-2xs"],[1,"user-name"],[1,"fa-solid","fa-users"],[1,"chat-list-content"],[1,"search-users"],[1,"search-box"],[1,"search-icon"],[1,"fas","fa-search"],["type","search","name","","id","","placeholder","search chat group",1,"chat-list-search",3,"input"],[1,"add-chat-button",3,"click"],[1,"fa-solid","fa-plus","fa-xl"],[1,"chat-list"],[3,"data"]],template:function(a,r){if(a&1){let y=E();o(0,"div",1)(1,"section",2)(2,"header",3)(3,"div",4)(4,"div",5),s(5,"i",6),i(),o(6,"h1",7),d(7),h(8,"titlecase"),i()(),o(9,"div",4),s(10,"i",8),i()(),o(11,"section",9)(12,"div",10)(13,"div",11)(14,"span",12),s(15,"i",13),i(),o(16,"input",14,0),P("input",function(){M(y);let q=T(17);return O(r.searchData(q.value))}),i()(),o(18,"button",15),P("click",function(){return M(y),O(r.addChat())}),s(19,"i",16),i()(),o(20,"ul",17),D(21,Q,2,1,"li",null,k),i()()(),s(23,"router-outlet"),i()}a&2&&(c(7),p(C(8,1,r.title)),c(14),S(r.storage))},dependencies:[N,B,z],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:30% 0% 70%}.chat-list-section[_ngcontent-%COMP%]{width:100%;display:flex;height:100vh;flex-direction:column}.chat-header[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;padding:8px 10px 8px 15px;justify-content:space-between;align-items:center;background-color:#f0f2f5}.chat-header-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.user-icon[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%;background-color:#cfd5d7;border:2px solid white;display:flex;justify-content:center;align-items:center}.user-icon[_ngcontent-%COMP%]   .fa-user[_ngcontent-%COMP%]{color:#fff;align-self:center}.fa-users[_ngcontent-%COMP%]{color:#54656f}.user-name[_ngcontent-%COMP%]{margin:0 0 0 8px;padding:0;font-size:16px;color:#677982;font-weight:400}.chat-list-content[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;background-color:#fff;position:relative}.chat-list-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.chat-list-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{height:2px;background-color:transparent}.chat-list-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#c6c6c6;border-radius:2px}.search-users[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;justify-content:space-between;padding:16px 10px 8px 15px;background-color:#fff;border-bottom:3px solid #F0F2F5}.fa-search[_ngcontent-%COMP%]{color:#6b7c85}.search-box[_ngcontent-%COMP%]{width:90%;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{display:inline-block;padding:8px 16px;border-top-left-radius:5px;border-bottom-left-radius:5px;background-color:#f0f2f5}.chat-list-search[_ngcontent-%COMP%]{display:inline-block;font-family:Work Sans;padding:10px 10px 10px 0;width:100%;border:none;border-top-right-radius:5px;border-bottom-right-radius:5px;background-color:#f0f2f5;outline:none}.chat-list-search[_ngcontent-%COMP%]::placeholder{text-transform:capitalize;font-size:13px;font-weight:400;color:#6b7c85}.add-chat-button[_ngcontent-%COMP%]{border:none;outline:none;cursor:pointer;background:none}.fa-plus[_ngcontent-%COMP%]{color:#677982}.chat-list[_ngcontent-%COMP%]{list-style:none;margin:5px 0 0;padding:0}.chat-list-item[_ngcontent-%COMP%]{display:flex;padding:16px 10px 0 15px;cursor:pointer;align-items:center}.chat-list-item[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.chat-item-left[_ngcontent-%COMP%]{display:flex;align-items:center}.user-icon[_ngcontent-%COMP%]   .fa-user-friends[_ngcontent-%COMP%]{color:#f5f5f5}.chat-item-right[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding-bottom:16px;border-bottom:1px solid #E9EDEF}.user-chat[_ngcontent-%COMP%]{margin-left:10px}.user-chat[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .user-chat[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:400}.user-chat[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#96a2a9}.user-chat[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#a3adb3}.user-time[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:11px}.chat-conversation[_ngcontent-%COMP%]{width:70vw}"]});let t=e;return t})();export{pt as ChatListComponent};
